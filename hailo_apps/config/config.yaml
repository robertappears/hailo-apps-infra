#===============================================================================
# Hailo Apps Infrastructure Configuration
#===============================================================================
# This is the main configuration file for installation and runtime settings.
# Most values support "auto" for automatic detection during installation.
#===============================================================================

#-------------------------------------------------------------------------------
# Environment Detection
#-------------------------------------------------------------------------------
# These values are auto-detected during installation and written to .env file.
# Set to "auto" for automatic detection, or specify a fixed value.

hailort_version: "auto"       # Options: "auto", "4.23.0", "5.1.1", "5.2.0"
tappas_version: "auto"        # Options: "auto", "5.1.0", "5.2.0"
tappas_postproc_path: "auto"  # Path to TAPPAS postprocess libs (auto from pkg-config)
model_zoo_version: "auto"     # Options: "auto", "v2.17.0" (H8), "v5.1.0" or "v5.2.0" (H10)
host_arch: "auto"             # Options: "auto", "x86", "rpi", "arm"
hailo_arch: "auto"            # Options: "auto", "hailo8", "hailo8l", "hailo10h"
multi_processing: "enabled"   # Options: "enabled", "disabled"

#-------------------------------------------------------------------------------
# Version Validation
#-------------------------------------------------------------------------------
# Valid versions for installation validation. The installer will stop if
# detected versions don't match these values.

valid_versions:
  hailort:
    - "4.23.0"
    - "5.1.1"
    - "5.2.0"
  tappas:
    - "5.1.0"
    - "5.2.0"
  hailo_arch:
    - "hailo8"
    - "hailo8l"
    - "hailo10h"
  host_arch:
    - "x86"
    - "rpi"
    - "arm"

#-------------------------------------------------------------------------------
# Model Zoo Version Mapping
#-------------------------------------------------------------------------------
# Model Zoo version is derived from HailoRT version:
#   - H8/H8L: Always v2.17.0
#   - H10: HailoRT 5.1.x -> v5.1.0, HailoRT 5.2.x -> v5.2.0
# Gen-AI Model Zoo version matches HailoRT version (v5.1.1 or v5.2.0)

# Fallback mapping (used if HailoRT version detection fails)
model_zoo_mapping:
  hailo8: "v2.17.0"
  hailo8l: "v2.17.0"
  hailo10h: "v5.1.0"

# Valid Model Zoo versions by architecture family (for validation)
valid_model_zoo_versions:
  h8:   # Applies to hailo8 and hailo8l
    - "v2.17.0"
  h10:  # Applies to hailo10h
    - "v5.1.0"
    - "v5.2.0"

#-------------------------------------------------------------------------------
# Virtual Environment
#-------------------------------------------------------------------------------
venv:
  name: "venv_hailo_apps"
  use_system_site_packages: true

#-------------------------------------------------------------------------------
# Resources
#-------------------------------------------------------------------------------
resources:
  # Path to resources symlink (relative to repo root)
  path: "resources"
  # Absolute path to resources root (where files are actually stored)
  root: "/usr/local/hailo/resources"
  # Path to .env file
  env_file: "/usr/local/hailo/resources/.env"
  # Default download group: "default", "extra", "all", or specific app name
  download_group: "default"
  # Directory structure to create in resources root
  dirs:
    - "models/hailo8"
    - "models/hailo8l"
    - "models/hailo10h"
    - "videos"
    - "images"
    - "json"
    - "npy"
    - "so"
    - "packages"

#-------------------------------------------------------------------------------
# System Packages (installed via apt)
#-------------------------------------------------------------------------------
system_packages:
  - "meson"
  - "ninja-build"
  - "portaudio19-dev"
  - "python3-gi"
  - "python3-gi-cairo"
  # Static linking dependencies for TAPPAS >= 5.2.0
  - "libbz2-dev"
  - "liblzma-dev"
  - "libelf-dev"
  - "libunwind-dev"
  - "libdw-dev"

#-------------------------------------------------------------------------------
# Logging
#-------------------------------------------------------------------------------
log_level: "INFO"  # Options: "DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"
