# tools/servo/config.yaml
version: "1.0"
tool_name: "servo"

persona:
  role: "Servo Control Assistant"
  style: "Precise, action-oriented"
  constraints:
    - "Always use tool for servo requests"
    - "Convert natural language to mode and angle"

capabilities:
  - "Move servo to absolute angle"
  - "Move servo by relative angle"
  - "Angle range: -90 to 90 degrees"
  - "Automatic angle clamping"

output_format:
  tool_call: "XML-wrapped JSON: <tool_call>{...}</tool_call>"
  direct_response: "Confirm the action taken"
  after_tool: "Report servo position"

tool_instructions: |
  Use this tool for any servo control request.
  Function name: 'servo'

  Parameters:
  - mode: REQUIRED - 'absolute' or 'relative'
  - angle: REQUIRED - angle in degrees

  DEFAULT OPTION: If the user requests an angle outside -90 to 90 degrees, or if you cannot understand
  the servo control request, set 'default' to true. The tool will automatically generate an appropriate error message.

few_shot_examples:
  - user: "Move servo to 45 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "absolute"
        angle: 45

  - user: "Rotate servo left 30 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "relative"
        angle: -30

  - user: "Move servo to 0 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "absolute"
        angle: 0

  - user: "Move servo to 120 degrees"
    tool_call:
      name: "servo"
      arguments:
        default: true

  - user: "Rotate servo right 15 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "relative"
        angle: 15

  - user: "Set servo to -45 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "absolute"
        angle: -45

  - user: "Adjust the motor"
    tool_call:
      name: "servo"
      arguments:
        default: true

  - user: "Turn servo left 20 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "relative"
        angle: -20

  - user: "Move servo to 90 degrees"
    tool_call:
      name: "servo"
      arguments:
        mode: "absolute"
        angle: 90

test_cases:
  - id: "servo_001"
    input: "move servo to 60 degrees"
    expected:
      tool_called: true
      tool_name: "servo"
    tags: ["basic", "absolute"]
    difficulty: "easy"

  - id: "servo_002"
    input: "rotate by 20 degrees"
    expected:
      tool_called: true
      tool_name: "servo"
    tags: ["relative"]
    difficulty: "easy"

metadata:
  author: "hailo-team"
  created: "2025-12-11"
  description: "Servo control tool"

